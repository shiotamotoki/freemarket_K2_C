.wrapper
  .signup__header
    .signup__header__mercari-logo
      = link_to image_tag("logo.svg"), root_path
    .signup__header__progress
      %ul.progress
        %li.active
          会員情報
          .bubble.bubble-first
        %li
          電話番号認証
          .bubble
        %li
          お届け先住所入力
          .bubble
        %li
          支払い方法
          .bubble
        %li
          完了
          .bubble.bubble-last
  .signup__panel
    .signup__panel__title
      %h2 会員情報入力
    = form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f|
      = render "devise/shared/error_messages", resource: resource
      .signup__panel__field
        .field
          = f.label :ニックネーム
          %span.required 必須
          %br/
          = f.text_field :nickname, placeholder: "例）メルカリ太郎"
          %br/
        .field
          = f.label :メールアドレス
          %span.required 必須
          %br/
          = f.email_field :email, autofocus: true, autocomplete: "email", placeholder: "PC・携帯どちらでも可"
        .field
          = f.label :パスワード
          %span.required 必須
          %br/
          = f.password_field :password, autocomplete: "new-password", placeholder: "7文字以上"
        .field
          = f.label :パスワード（確認）
          %span.required 必須
          %br/
          = f.password_field :password_confirmation, autocomplete: "new-password", placeholder: "7文字以上"
        .field
          %h3 本人確認
          %p 安心・安全にご利用いただくために、お客さまの本人情報の登録にご協力ください。他のお客さまに公開されることはありません。
          %br/
        = f.fields_for :personal_information, @user.personal_information do |i|
          .namefield
            = i.label :お名前（全角）
            %span.required 必須
            %br/
            = i.text_field :last_name, placeholder: "例）山田"
            = i.text_field :first_name, placeholder: "例）彩"
            %br/
          .namefield
            = i.label :お名前カナ（全角）
            %span.required 必須
            %br/
            = i.text_field :last_name_kana, placeholder: "例）ヤマダ"
            = i.text_field :first_name_kana, placeholder: "例）アヤ"
            %br/
          .field
            = i.label :生年月日
            %span.required 必須
            %br/
            .birth-field
              = raw sprintf(i.date_select(:birth, use_month_numbers: true, start_year: (Time.now.year), end_year: 1900 , prompt: "--", date_separator: '%s'),"年 \n", '月 ') + '日'
              %br/
          .field
            = i.label :zip_code
            %br/
            = i.text_field :zip_code, autofocus: true, autocomplete: "zip_code"
          .field
            = i.label :prefecture
            %br/
            = i.text_field :prefecture, autofocus: true, autocomplete: "prefecture"
          .field
            = i.label :city
            %br/
            = i.text_field :city, autofocus: true, autocomplete: "city"
          .field
            = i.label :address
            %br/
            = i.text_field :address, autofocus: true, autocomplete: "address"
          .field
            = i.label :building_name
            %br/
            = i.text_field :building_name, autofocus: true, autocomplete: "building_name"
          .field
            = i.label :phone_number
            %br/
            = i.text_field :phone_number, autofocus: true, autocomplete: "phone_number"

            %p.field--text ※本人情報は正しく入力してください。会員登録後、修正するにはお時間を頂く場合があります。
            
            %p.field.field__terms
              「次へ進む」のボタンを押すことにより、
              = link_to "利用規約", user_session, class: "terms__link"
              に同意したものとみなします
              %br/
              %br/
        .actions
          = button_to new2_user_registration_path, class: "btn action-btn" do
            次へ進む
          = link_to new2_user_registration_path, class: "terms__link" do
            次へ進む
        .field
          .field__right
            = link_to root_path, class: "terms__link" do
              本人情報の登録について
              %span.angle-right
                = fa_icon "angle-right"
    = render "devise/shared/footer"